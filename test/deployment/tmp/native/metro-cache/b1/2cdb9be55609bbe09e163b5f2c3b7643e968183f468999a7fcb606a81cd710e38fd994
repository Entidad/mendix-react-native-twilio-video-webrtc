{"dependencies":[{"name":"@babel/runtime/helpers/extends","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":242,"column":0}}]}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":242,"column":0}}]}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0},"end":{"line":242,"column":0}}]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),n=r(d[1]),s=r(d[2]),l=function t(){s(this,t),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0},_=[],o=10,h=null,u=(function(){function u(t){s(this,u),this._anyBlankStartTime=null,this._enabled=!1,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(h||0)>Math.random(),this._resetData()}return n(u,[{key:\"activate\",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}},{key:\"deactivateAndFlush\",value:function(){if(this._enabled){var n=this._samplesStartTime;if(null!=n)if(this._info.sample_count<o)this._resetData();else{var s=g.performance.now()-n,l=t({},this._info,{total_time_spent:s});_.forEach(function(t){return t(l)}),this._resetData()}}}},{key:\"computeBlankness\",value:function(t,n,s){if(!this._enabled||0===t.getItemCount(t.data)||null==this._samplesStartTime)return 0;var l=s.dOffset,_=s.offset,o=s.velocity,h=s.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(h),this._info.pixels_scrolled+=Math.round(Math.abs(l));var u=Math.round(1e3*Math.abs(o)),f=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=f-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=f-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,k=n.first,y=this._getFrameMetrics(k);k<=n.last&&(!y||!y.inLayout);)y=this._getFrameMetrics(k),k++;y&&k>0&&(c=Math.min(h,Math.max(0,y.offset-_)));for(var p=0,b=n.last,v=this._getFrameMetrics(b);b>=n.first&&(!v||!v.inLayout);)v=this._getFrameMetrics(b),b--;if(v&&b<t.getItemCount(t.data)-1){var S=v.offset+v.length;p=Math.min(h,Math.max(0,_+h-S))}var M=Math.round(c+p),T=M/h;return T>0?(this._anyBlankStartTime=f,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=M,T>.5&&(this._mostlyBlankStartTime=f,this._info.mostly_blank_count++)):(u<.01||Math.abs(l)<1)&&this.deactivateAndFlush(),T}},{key:\"enabled\",value:function(){return this._enabled}},{key:\"_resetData\",value:function(){this._anyBlankStartTime=null,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:\"addListener\",value:function(t){return null===h&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),_.push(t),{remove:function(){_=_.filter(function(n){return t!==n})}}}},{key:\"setSampleRate\",value:function(t){h=t}},{key:\"setMinSampleCount\",value:function(t){o=t}}]),u})();m.exports=u});","lineCount":1,"map":[[1,28,11,0],[1,75,15,6,"Info"],[1,105,16,2,"any_blank_count"],[1,121,16,28],[1,128,17,2,"any_blank_ms"],[1,141,17,25],[1,148,18,2,"any_blank_speed_sum"],[1,168,18,32],[1,175,19,2,"mostly_blank_count"],[1,194,19,31],[1,201,20,2,"mostly_blank_ms"],[1,217,20,28],[1,224,21,2,"pixels_blank"],[1,237,21,25],[1,244,22,2,"pixels_sampled"],[1,259,22,27],[1,266,23,2,"pixels_scrolled"],[1,282,23,28],[1,289,24,2,"total_time_spent"],[1,306,24,29],[1,313,25,2,"sample_count"],[1,326,25,25],[1,329,37,4,"_listeners"],[1,334,38,4,"_minSampleCount"],[1,336,38,22],[1,339,39,4,"_sampleRate"],[1,341,39,30],[1,346,49,6,"FillRateHelper"],[1,360,79,2],[1,369,79,2,"FillRateHelper"],[1,371,79,14,"getFrameMetrics"],[1,374,79,65,"_classCallCheck"],[1,376,79,65,"this"],[1,381,79,65,"FillRateHelper"],[1,384,79,65,"this"],[1,389,50,2,"_anyBlankStartTime"],[1,408,50,24],[1,413,79,65,"this"],[1,418,51,2,"_enabled"],[1,428,51,13],[1,430,79,65,"this"],[1,435,53,2,"_info"],[1,441,53,10],[1,445,53,14,"Info"],[1,447,79,65,"this"],[1,452,54,2,"_mostlyBlankStartTime"],[1,474,54,27],[1,479,79,65,"this"],[1,484,55,2,"_samplesStartTime"],[1,502,55,23],[1,507,80,4,"this"],[1,512,80,9,"_getFrameMetrics"],[1,529,80,28,"getFrameMetrics"],[1,531,81,4,"this"],[1,536,81,9,"_enabled"],[1,546,81,21,"_sampleRate"],[1,549,81,36],[1,552,81,41,"Math"],[1,557,81,46,"random"],[1,566,82,4,"this"],[1,571,82,9,"_resetData"],[1,618,85,2],[1,629,86,8,"this"],[1,634,86,13,"_enabled"],[1,644,86,51],[1,650,86,25,"this"],[1,655,86,30,"_samplesStartTime"],[1,675,88,6,"this"],[1,680,88,11,"_samplesStartTime"],[1,698,88,31,"global"],[1,700,88,38,"performance"],[1,712,88,50,"now"],[1,753,92,2],[1,764,93,4],[1,767,93,9,"this"],[1,772,93,14,"_enabled"],[1,781,93,4],[1,782,96,4],[1,786,96,10,"start"],[1,788,96,18,"this"],[1,793,96,23,"_samplesStartTime"],[1,811,97,4],[1,814,97,17],[1,820,97,8,"start"],[1,822,102,4],[1,825,102,8,"this"],[1,830,102,13,"_info"],[1,836,102,19,"sample_count"],[1,849,102,34,"_minSampleCount"],[1,851,104,6,"this"],[1,856,104,11,"_resetData"],[1,873,102,4],[1,874,107,4],[1,878,107,10,"total_time_spent"],[1,880,107,29,"global"],[1,882,107,36,"performance"],[1,894,107,48,"now"],[1,900,107,56,"start"],[1,902,108,10,"info"],[1,904,108,19,"_extends"],[1,909,109,9,"this"],[1,914,109,14,"_info"],[1,921,110,6,"total_time_spent"],[1,938,110,6,"total_time_spent"],[1,942,130,4,"_listeners"],[1,944,130,15,"forEach"],[1,952,130,23],[1,961,130,23,"listener"],[1,964,130,31],[1,971,130,35,"listener"],[1,973,130,44,"info"],[1,978,131,4,"this"],[1,983,131,9,"_resetData"],[1,1030,134,2],[1,1039,135,4,"props"],[1,1041,141,4,"state"],[1,1043,146,4,"scrollMetrics"],[1,1046,154,4],[1,1050,155,7,"this"],[1,1055,155,12,"_enabled"],[1,1065,156,41],[1,1069,156,6,"props"],[1,1071,156,12,"getItemCount"],[1,1084,156,25,"props"],[1,1086,156,31,"data"],[1,1093,157,32],[1,1099,157,6,"this"],[1,1104,157,11,"_samplesStartTime"],[1,1122,159,6],[1,1129,159,13],[1,1131,161,4],[1,1135,161,11,"dOffset"],[1,1137,161,55,"scrollMetrics"],[1,1139,161,11,"dOffset"],[1,1147,161,20,"offset"],[1,1149,161,55,"scrollMetrics"],[1,1151,161,20,"offset"],[1,1158,161,28,"velocity"],[1,1160,161,55,"scrollMetrics"],[1,1162,161,28,"velocity"],[1,1171,161,38,"visibleLength"],[1,1173,161,55,"scrollMetrics"],[1,1175,161,38,"visibleLength"],[1,1189,165,4,"this"],[1,1194,165,9,"_info"],[1,1200,165,15,"sample_count"],[1,1215,166,4,"this"],[1,1220,166,9,"_info"],[1,1226,166,15,"pixels_sampled"],[1,1242,166,33,"Math"],[1,1247,166,38,"round"],[1,1253,166,44,"visibleLength"],[1,1256,167,4,"this"],[1,1261,167,9,"_info"],[1,1267,167,15,"pixels_scrolled"],[1,1284,167,34,"Math"],[1,1289,167,39,"round"],[1,1295,167,45,"Math"],[1,1300,167,50,"abs"],[1,1304,167,54,"dOffset"],[1,1308,168,4],[1,1312,168,10,"scrollSpeed"],[1,1314,168,24,"Math"],[1,1319,168,29,"round"],[1,1325,168,56],[1,1329,168,35,"Math"],[1,1334,168,40,"abs"],[1,1338,168,44,"velocity"],[1,1342,171,10,"now"],[1,1344,171,16,"global"],[1,1346,171,23,"performance"],[1,1358,171,35,"now"],[1,1364,172,35],[1,1370,172,8,"this"],[1,1375,172,13,"_anyBlankStartTime"],[1,1396,173,6,"this"],[1,1401,173,11,"_info"],[1,1407,173,17,"any_blank_ms"],[1,1421,173,33,"now"],[1,1423,173,39,"this"],[1,1428,173,44,"_anyBlankStartTime"],[1,1448,175,4,"this"],[1,1453,175,9,"_anyBlankStartTime"],[1,1472,175,30],[1,1477,176,38],[1,1483,176,8,"this"],[1,1488,176,13,"_mostlyBlankStartTime"],[1,1512,177,6,"this"],[1,1517,177,11,"_info"],[1,1523,177,17,"mostly_blank_ms"],[1,1540,177,36,"now"],[1,1542,177,42,"this"],[1,1547,177,47,"_mostlyBlankStartTime"],[1,1570,179,4,"this"],[1,1575,179,9,"_mostlyBlankStartTime"],[1,1597,179,33],[1,1602,184,4],[1,1606,181,4],[1,1610,181,8,"blankTop"],[1,1612,181,19],[1,1614,182,8,"first"],[1,1616,182,16,"state"],[1,1618,182,22,"first"],[1,1624,183,8,"firstFrame"],[1,1626,183,21,"this"],[1,1631,183,26,"_getFrameMetrics"],[1,1648,183,43,"first"],[1,1651,184,11,"first"],[1,1654,184,20,"state"],[1,1656,184,26,"last"],[1,1664,184,36,"firstFrame"],[1,1668,184,51,"firstFrame"],[1,1670,184,62,"inLayout"],[1,1681,185,6,"firstFrame"],[1,1683,185,19,"this"],[1,1688,185,24,"_getFrameMetrics"],[1,1705,185,41,"first"],[1,1708,186,6,"first"],[1,1712,190,8,"firstFrame"],[1,1715,190,22,"first"],[1,1717,190,30],[1,1721,191,6,"blankTop"],[1,1723,191,17,"Math"],[1,1728,191,22,"min"],[1,1732,192,8,"visibleLength"],[1,1734,193,8,"Math"],[1,1739,193,13,"max"],[1,1743,193,17],[1,1745,193,20,"firstFrame"],[1,1747,193,31,"offset"],[1,1754,193,40,"offset"],[1,1759,199,4],[1,1763,196,4],[1,1767,196,8,"blankBottom"],[1,1769,196,22],[1,1771,197,8,"last"],[1,1773,197,15,"state"],[1,1775,197,21,"last"],[1,1780,198,8,"lastFrame"],[1,1782,198,20,"this"],[1,1787,198,25,"_getFrameMetrics"],[1,1804,198,42,"last"],[1,1807,199,11,"last"],[1,1810,199,19,"state"],[1,1812,199,25,"first"],[1,1821,199,36,"lastFrame"],[1,1825,199,50,"lastFrame"],[1,1827,199,60,"inLayout"],[1,1838,200,6,"lastFrame"],[1,1840,200,18,"this"],[1,1845,200,23,"_getFrameMetrics"],[1,1862,200,40,"last"],[1,1865,201,6,"last"],[1,1869,205,4],[1,1872,205,8,"lastFrame"],[1,1875,205,21,"last"],[1,1877,205,28,"props"],[1,1879,205,34,"getItemCount"],[1,1892,205,47,"props"],[1,1894,205,53,"data"],[1,1900,205,61],[1,1902,205,64],[1,1903,206,6],[1,1907,206,12,"bottomEdge"],[1,1909,206,25,"lastFrame"],[1,1911,206,35,"offset"],[1,1918,206,44,"lastFrame"],[1,1920,206,54,"length"],[1,1927,207,6,"blankBottom"],[1,1929,207,20,"Math"],[1,1934,207,25,"min"],[1,1938,208,8,"visibleLength"],[1,1940,209,8,"Math"],[1,1945,209,13,"max"],[1,1949,209,17],[1,1951,209,20,"offset"],[1,1953,209,29,"visibleLength"],[1,1955,209,45,"bottomEdge"],[1,1959,212,4],[1,1963,212,10,"pixels_blank"],[1,1965,212,25,"Math"],[1,1970,212,30,"round"],[1,1976,212,36,"blankTop"],[1,1978,212,47,"blankBottom"],[1,1981,213,10,"blankness"],[1,1983,213,22,"pixels_blank"],[1,1985,213,37,"visibleLength"],[1,1987,226,4],[1,1994,214,8,"blankness"],[1,1996,214,20],[1,1999,215,6,"this"],[1,2004,215,11,"_anyBlankStartTime"],[1,2023,215,32,"now"],[1,2025,216,6,"this"],[1,2030,216,11,"_info"],[1,2036,216,17,"any_blank_speed_sum"],[1,2057,216,40,"scrollSpeed"],[1,2059,217,6,"this"],[1,2064,217,11,"_info"],[1,2070,217,17,"any_blank_count"],[1,2088,218,6,"this"],[1,2093,218,11,"_info"],[1,2099,218,17,"pixels_blank"],[1,2113,218,33,"pixels_blank"],[1,2115,219,10,"blankness"],[1,2117,219,22],[1,2122,220,8,"this"],[1,2127,220,13,"_mostlyBlankStartTime"],[1,2149,220,37,"now"],[1,2151,221,8,"this"],[1,2156,221,13,"_info"],[1,2162,221,19,"mostly_blank_count"],[1,2186,223,15,"scrollSpeed"],[1,2188,223,29],[1,2193,223,37,"Math"],[1,2198,223,42,"abs"],[1,2202,223,46,"dOffset"],[1,2205,223,57],[1,2209,224,6,"this"],[1,2214,224,11,"deactivateAndFlush"],[1,2235,226,11,"blankness"],[1,2260,229,2],[1,2271,230,4],[1,2278,230,11,"this"],[1,2283,230,16,"_enabled"],[1,2318,233,2],[1,2329,234,4,"this"],[1,2334,234,9,"_anyBlankStartTime"],[1,2353,234,30],[1,2358,235,4,"this"],[1,2363,235,9,"_info"],[1,2369,235,17],[1,2373,235,21,"Info"],[1,2375,236,4,"this"],[1,2380,236,9,"_mostlyBlankStartTime"],[1,2402,236,33],[1,2407,237,4,"this"],[1,2412,237,9,"_samplesStartTime"],[1,2430,237,29],[1,2464,57,2],[1,2473,58,4,"callback"],[1,2476,64,4],[1,2483,60,24],[1,2490,60,8,"_sampleRate"],[1,2493,61,6,"console"],[1,2501,61,14,"warn"],[1,2506,61,19],[1,2567,63,4,"_listeners"],[1,2569,63,15,"push"],[1,2574,63,20,"callback"],[1,2578,65,6,"remove"],[1,2585,65,14],[1,2596,66,8,"_listeners"],[1,2598,66,21,"_listeners"],[1,2600,66,32,"filter"],[1,2607,66,39],[1,2616,66,39,"listener"],[1,2619,66,47],[1,2626,66,51,"callback"],[1,2630,66,64,"listener"],[1,2665,71,2],[1,2674,71,23,"sampleRate"],[1,2677,72,4,"_sampleRate"],[1,2679,72,18,"sampleRate"],[1,2714,75,2],[1,2723,75,27,"minSampleCount"],[1,2726,76,4,"_minSampleCount"],[1,2728,76,22,"minSampleCount"],[1,2740,241,0,"module"],[1,2742,241,7,"exports"],[1,2750,241,17,"FillRateHelper"]],"functionMap":{"names":["<global>","Info","FillRateHelper","addListener","remove","_listeners.filter$argument_0","setSampleRate","setMinSampleCount","constructor","activate","deactivateAndFlush","_listeners.forEach$argument_0","computeBlankness","enabled","_resetData"],"mappings":"AAA;ACc;CDW;AEuB;ECQ;cCQ;uCCC,iCD;ODC;GDE;EIE;GJE;EKE;GLE;EME;GNI;EOE;GPK;EQE;uBCsC,0BD;GRE;EUE;GV6F;EWE;GXE;EYE;GZK;CFC"}},"type":"js/module"}]}